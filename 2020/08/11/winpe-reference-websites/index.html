<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>Windows PE 用ドライバの開発において参考になる公開ドキュメントについて | Japan WDK Support Blog</title>
  <meta name="description" content="" />
  <meta name="keywords" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="icon" href="https://jpwdkblog.github.io/blog/favicon/favicon.ico">
  <link rel="apple-touch-icon" sizes="120x120" href="https://jpwdkblog.github.io/blog/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://jpwdkblog.github.io/blog/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://jpwdkblog.github.io/blog/favicon/favicon-16x16.png">
  <link rel="manifest" href="https://jpwdkblog.github.io/blog/favicon/site.webmanifest">
  <link rel="mask-icon" href="https://jpwdkblog.github.io/blog/favicon/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#00aba9">
  <meta name="theme-color" content="#ffffff">
  <link rel="alternate" href="/blog/atom.xml" title="Japan WDK Support Blog" type="application/atom+xml">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Windows PE で動作するドライバを開発していただくにあたり、ご参照いただける公開ドキュメントをこちらにまとめてご紹介をいたします。">
<meta property="og:type" content="article">
<meta property="og:title" content="Windows PE 用ドライバの開発において参考になる公開ドキュメントについて">
<meta property="og:url" content="https://jpwdkblog.github.io/blog/2020/08/11/winpe-reference-websites/index.html">
<meta property="og:site_name" content="Japan WDK Support Blog">
<meta property="og:description" content="Windows PE で動作するドライバを開発していただくにあたり、ご参照いただける公開ドキュメントをこちらにまとめてご紹介をいたします。">
<meta property="og:locale" content="ja_JP">
<meta property="article:published_time" content="2020-08-11T03:00:00.000Z">
<meta property="article:modified_time" content="2025-08-29T00:06:49.332Z">
<meta property="article:author" content="jpwdkblog">
<meta property="article:tag" content="参考情報">
<meta name="twitter:card" content="summary">
    
  <link href="https://fonts.googleapis.com/css?family=Inconsolata|Titillium+Web" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
  <link href='//cdnjs.cloudflare.com/ajax/libs/node-waves/0.7.5/waves.min.css' rel='stylesheet'>
  
<link rel="stylesheet" href="/blog/style.css">

  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
  <meta name="google-site-verification" content="pWQqMJ7gh1mrMlGHKKrGh0r1IqaWrJc1dWnZowSZW-c" />
<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>


  <script>setLoadingBarProgress(20)</script> 
  <header class="l_header">
	<div class='wrapper'>
		<div class="nav-main container container--flex">
			<a class="logo flat-box" href='/blog/' >
				Japan WDK Support Blog
			</a>
			<div class='menu'>
				<ul class='h-list'>
					
						<li>
							<a class='flat-box nav-home' href='/blog/'>
								Home
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-archives' href='/blog/archives'>
								Archives
							</a>
						</li>
					
				</ul>
				<div class='underline'></div>
			</div>
			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="Search" />
						<span class="icon icon-search"></span>
					</form>
				</div>
			
			<ul class='switcher h-list'>
				
					<li class='s-search'><a href='javascript:void(0)'><span class="icon icon-search flat-box"></span></a></li>
				
				<li class='s-menu'><a href='javascript:void(0)'><span class="icon icon-menu flat-box"></span></a></li>
			</ul>
		</div>
		
		<div class='nav-sub container container--flex'>
			<a class="logo" class="flat-box" href='javascript:void(0)'>
				Word of Forks
			</a>

			<ul class='switcher h-list'>
				<li class='s-comment'><a href='javascript:void(0)'><span class="icon icon-chat_bubble_outline flat-box"></span></a></li>
				<li class='s-top'><a href='javascript:void(0)'><span class="icon icon-arrow_upward flat-box"></span></a></li>
				<li class='s-toc'><a href='javascript:void(0)'><span class="icon icon-format_list_numbered flat-box"></span></a></li>
			</ul>
		</div>
	</div>
</header>
<aside class="menu-phone">
	<nav>
		
			<a href="/blog/" class="nav-home nav">
				Home
			</a>
		
			<a href="/blog/archives" class="nav-archives nav">
				Archives
			</a>
		
	</nav>
</aside>

    <script>setLoadingBarProgress(40);</script>
  <div class="l_body">
    <div class='container clearfix'>
      <div class='l_main'>
        <article id="post-winpe-reference-websites"
  class="post white-box article-type-post"
  itemscope itemprop="blogPost">
	<section class='meta'>
	<h2 class="title">
  	<a href="/blog/2020/08/11/winpe-reference-websites/">
    	Windows PE 用ドライバの開発において参考になる公開ドキュメントについて
    </a>
  </h2>
	<time>
	  8月 11, 2020
	</time>
	
    
    <div class='cats'>
        <a href="/blog/categories/Windows-PE/">Windows PE</a>
    </div>

	</section>
	
		<section class="toc-wrapper"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%83%89%E3%83%A9%E3%82%A4%E3%83%90%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E6%96%B9%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">ドライバのインストール方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%83%89%E3%83%A9%E3%82%A4%E3%83%90%E3%81%AE%E3%83%87%E3%83%90%E3%83%83%E3%82%B0%E6%96%B9%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">ドライバのデバッグ方法</span></a></li></ol></section>
	
	<section class="article typo">
  	<div class="article-entry" itemprop="articleBody">
    	<p>Windows PE で動作するドライバを開発していただくにあたり、ご参照いただける公開ドキュメントをこちらにまとめてご紹介をいたします。</p>
<span id="more"></span>
<br>

<hr>
<p>これをご案内する背景として、上記を実現するために必要な公開情報はあるものの、Windows PE で動作するドライバを開発する、という目的で一元化してはおりませんため、それらをおまとめした今回のブログがお役に立てば幸いです。  </p>
<p>ドライバの実装そのものに Windows PE のために特別必要な実装はございませんので、インストール方法とデバッグ方法について以下の通りご案内いたします。  </p>
<hr>
<h2 id="ドライバのインストール方法"><a href="#ドライバのインストール方法" class="headerlink" title="ドライバのインストール方法"></a>ドライバのインストール方法</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/add-and-remove-drivers-to-an-offline-windows-image">Add and Remove Drivers to an offline Windows Image</a>  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/add-device-drivers-to-windows-during-windows-setup">Add Device Drivers to Windows During Windows Setup</a>  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/ja-jp/windows-hardware/manufacture/desktop/winpe-mount-and-customize">WinPE:マウントとカスタマイズ</a>  </p>
<blockquote>
<p>デバイス ドライバー (.inf ファイル) を追加する  </p>
<ul>
<li><p>WinPE イメージにデバイス ドライバーを追加するには、DISM &#x2F;add-driver を使用します。</p>
<p>Dism &#x2F;Add-Driver &#x2F;Image:”C:\WinPE_amd64\mount” &#x2F;Driver:”C:\SampleDriver\driver.inf”</p>
</li>
</ul>
<p>1 つのコマンドを使用してイメージに複数のドライバーを追加できますが、ほとんどの場合、各ドライバー パッケージを個別に追加すると問題のトラブルシューティングが簡単になります。<br>ドライバーの詳細については、<a target="_blank" rel="noopener" href="https://nam06.safelinks.protection.outlook.com/?url=https://docs.microsoft.com/ja-jp/windows-hardware/manufacture/desktop/winpe-add-drivers&data=02%7C01%7Cdamochiz@microsoft.com%7C37c50955ca634ba702c608d8383be05c%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C637321177103220594&sdata=W98NawWBR4H6So2M70XucYl6WDWoZriC+B//AoTvVPE=&reserved=0">デバイス ドライバー (.inf ファイル) の追加</a> に関するページを参照してください。 使用可能なすべての <a target="_blank" rel="noopener" href="https://nam06.safelinks.protection.outlook.com/?url=https://docs.microsoft.com/ja-jp/windows-hardware/manufacture/desktop/dism-driver-servicing-command-line-options-s14&data=02%7C01%7Cdamochiz@microsoft.com%7C37c50955ca634ba702c608d8383be05c%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C637321177103230589&sdata=IERaF+uCfM9z3twCzIaBnQUlytFRCisIXD3K9JGl0Ks=&reserved=0">DISM ドライバー サービス オプションを確認するには、DISM ドライバー サービスのコマンド ライン オプション</a> に関するページを参照してください。  </p>
</blockquote>
</li>
<li><p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/drvload-command-line-options">Drvload Command-Line Options</a></p>
<blockquote>
<p>The Drvload tool adds out-of-box drivers to a booted Windows Preinstallation Environment (Windows PE) image. It takes one or more driver .inf files as inputs. To add a driver to an offline Windows PE image, use the Deployment Image Servicing and Management (DISM) tool. For more information, see <a target="_blank" rel="noopener" href="https://nam06.safelinks.protection.outlook.com/?url=https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/add-and-remove-drivers-to-an-offline-windows-image&data=02%7C01%7Cdamochiz@microsoft.com%7C37c50955ca634ba702c608d8383be05c%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C637321177103240581&sdata=AGaBoJ9k1469JrFJ9wD5EbgFb2kc53HEsArtVbKE33E=&reserved=0">Add and Remove Drivers to an Offline Windows Image</a>.</p>
<p>If the driver .inf file requires a reboot, Windows PE will ignore the request. If the driver .sys file requires a reboot, then the driver cannot be added with Drvload. For more information, see <a target="_blank" rel="noopener" href="https://nam06.safelinks.protection.outlook.com/?url=https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/device-drivers-and-deployment-overview&data=02%7C01%7Cdamochiz@microsoft.com%7C37c50955ca634ba702c608d8383be05c%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C637321177103250576&sdata=HE9JMSfjmwXzyS83feNJD46D1drGkQz7xCxIVb3/fD0=&reserved=0">Device Drivers and Deployment Overview</a> and <a target="_blank" rel="noopener" href="https://nam06.safelinks.protection.outlook.com/?url=https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/dism-driver-servicing-command-line-options-s14&data=02%7C01%7Cdamochiz@microsoft.com%7C37c50955ca634ba702c608d8383be05c%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C637321177103250576&sdata=TQCM7WVJBJa4vHDM/2llwYKB6Xc0P2ElnmVZN1x7yQo=&reserved=0">DISM Driver Servicing Command-Line Options</a>.</p>
<p>Drivers added using the Drvload tool are marked as the preferred driver for that device. If you add an updated driver during Windows Setup, the driver that you added with Drvload takes precedence.</p>
</blockquote>
</li>
</ul>
<hr>
<h2 id="ドライバのデバッグ方法"><a href="#ドライバのデバッグ方法" class="headerlink" title="ドライバのデバッグ方法"></a>ドライバのデバッグ方法</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/winpe-debug-apps#kernel-mode-debugging">WinPE: Debug Apps - Kernel-mode debugging</a></p>
<p> 上記に関連して、以下のブログも作成しておりますので、ご参考になりましたら幸いです。</p>
</li>
<li><p><a href="https://jpwdkblog.github.io/blog/2020/07/29/winpe-kernel-debug-via-network/">Windows PE でのネットワーク経由カーネル デバッガ接続方法について</a></p>
</li>
<li><p><a href="https://jpwdkblog.github.io/blog/2020/07/29/IOCTL-sample/">Windows PE で IOCTL サンプルを動作させる方法について
</a>  </p>
<br></li>
</ul>
<p>以上の内容がお役に立てば幸いです。</p>
<hr>
<p><code>変更履歴</code><br><code>2020/08/11 created by Tsuda</code>  </p>
<p>※ 本記事は 「<a href="https://jpwdkblog.github.io/blog/2020/01/01/aobut-jpwdkblog/">jpwdkblog について</a>」 の留意事項に準じます。<br>※ 併せて 「<a href="https://jpwdkblog.github.io/blog/">ホームページ</a>」 および 「<a href="https://jpwdkblog.github.io/blog/archives/">記事一覧</a>」 もご参照いただければ幸いです。  </p>

  	</div>
	  
	  <div class="article-tags tags">
      
        <a href="/blog/tags/%E5%8F%82%E8%80%83%E6%83%85%E5%A0%B1/">参考情報</a>
      
	  </div>
    
		
	
		<div class="art-item-footer">
				
					<span class="art-item-left"><i class="icon icon-chevron-thin-left"></i>prev：<a href="/blog/2021/07/13/HLK-create-project/" rel="prev"  title="Windows 11 及び Server 2022 用 HLK の Create project のダイアログの &#34;Is Windows Driver Project?&#34; にチェックは入れないでください">
						Windows 11 及び Server 2022 用 HLK の Create project のダイアログの &#34;Is Windows Driver Project?&#34; にチェックは入れないでください 
					</a></span>
				
				
					<span class="art-item-right">next：<a href="/blog/2020/07/29/IOCTL-sample/" rel="next"  title="Windows PE で IOCTL サンプルを動作させる方法について">
						Windows PE で IOCTL サンプルを動作させる方法について
					</a><i class="icon icon-chevron-thin-right"></i></span>
				
		</div>
	
	</section>
	
</article>
<script>
	window.subData = {
		title: 'Windows PE 用ドライバの開発において参考になる公開ドキュメントについて',
		tools: true
	}
</script>

      </div>
      <aside class='l_side'>
        
  <section class='m_widget about'>

<img class='avatar waves-image' src="https://jpwdkblog.github.io/blog/favicon/mstile-150x150.png">
<div class='content'>
    <div class='desc'>
        このサイトはマイクロソフトの Windows Driver Kit サポート チームによって運営されております。</br></br>
        Powered by: 祝田、津田、ジェシー、中神、上原、カイル</br></br>
        Web master: 望月
    </div>
</div>
</section>

  <section class='m_widget links'>
<div class='header'>Links</div>
<div class='content'>
    <ul class="entry">
    
        <li><a class="flat-box" target="_blank" href="https://jpaiblog.github.io/blog/">
            <div class='name'>Japan Cognitive Service Support Blog</div>
        </a></li>
    
        <li><a class="flat-box" target="_blank" href="https://jpiotblog.github.io/blog/">
            <div class='name'>Japan IoT Support Blog</div>
        </a></li>
    
        <li><a class="flat-box" target="_blank" href="https://jpmlblog.github.io/blog/">
            <div class='name'>Japan Machine Learning Support Blog</div>
        </a></li>
    
        <li><a class="flat-box" target="_blank" href="https://jpwdkblog.github.io/blog/">
            <div class='name'>Japan WDK Support Blog</div>
        </a></li>
    
    </ul>
</div>
</section>

  <section class='m_widget categories'>
<div class='header'>Categories</div>
<div class='content'>
    
    <ul class="entry">
    
        <li><a class="flat-box" href="/blog/categories/Hardware-Lab-Kit/"><div class='name'>Hardware Lab Kit</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/blog/categories/Windows-Driver-Kit-%E5%85%A8%E8%88%AC/"><div class='name'>Windows Driver Kit 全般</div><div class='badget'>2</div></a></li>
    
        <li><a class="flat-box" href="/blog/categories/Windows-PE/"><div class='name'>Windows PE</div><div class='badget'>3</div></a></li>
    
        <li><a class="flat-box" href="/blog/categories/hlk/"><div class='name'>hlk</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/blog/categories/printscan/"><div class='name'>printscan</div><div class='badget'>7</div></a></li>
    
    </ul>
    
</div>
</section>

  
<div class="m_widget tagcloud">
    <div class="header">Tags</div>
    <div class='content'>
        <a href="/blog/tags/CPrintDialog/" style="font-size: 14px; color: #808080">CPrintDialog</a> <a href="/blog/tags/IOCTL/" style="font-size: 14px; color: #808080">IOCTL</a> <a href="/blog/tags/Windows-10/" style="font-size: 14px; color: #808080">Windows 10</a> <a href="/blog/tags/Windows-11/" style="font-size: 14px; color: #808080">Windows 11</a> <a href="/blog/tags/Windows-11-24H2/" style="font-size: 14px; color: #808080">Windows 11 24H2</a> <a href="/blog/tags/Windows-11-HLK/" style="font-size: 14px; color: #808080">Windows 11 HLK</a> <a href="/blog/tags/Windows-Server-2025/" style="font-size: 14px; color: #808080">Windows Server 2025</a> <a href="/blog/tags/devmode/" style="font-size: 14px; color: #808080">devmode</a> <a href="/blog/tags/print/" style="font-size: 14px; color: #808080">print</a> <a href="/blog/tags/printer/" style="font-size: 20px; color: #000">printer</a> <a href="/blog/tags/test/" style="font-size: 14px; color: #808080">test</a> <a href="/blog/tags/%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB/" style="font-size: 14px; color: #808080">はじめに</a> <a href="/blog/tags/%E3%82%AB%E3%83%BC%E3%83%8D%E3%83%AB-%E3%83%87%E3%83%90%E3%83%83%E3%82%B0/" style="font-size: 14px; color: #808080">カーネル デバッグ</a> <a href="/blog/tags/%E5%8F%82%E8%80%83%E6%83%85%E5%A0%B1/" style="font-size: 14px; color: #808080">参考情報</a> <a href="/blog/tags/%E9%81%8E%E5%8E%BB%E3%83%96%E3%83%AD%E3%82%B0/" style="font-size: 14px; color: #808080">過去ブログ</a>
    </div>
</div>



      </aside>
      <script>setLoadingBarProgress(60);</script>
    </div>
  </div>
  <footer id="footer" class="clearfix">

	<div class="social-wrapper">
  	
      
        <a href="https://github.com/damochiz" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="/atom.xml" class="social rss"
          target="_blank" rel="external">
          <span class="icon icon-rss"></span>
        </a>
      
    
  </div>
  
  <div>Theme <a target="_blank" rel="noopener" href='https://github.com/stkevintan/hexo-theme-material-flow' class="codename">MaterialFlow</a>.</div>
  
</footer>


  <script>setLoadingBarProgress(80);</script>
  

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src='//cdnjs.cloudflare.com/ajax/libs/node-waves/0.7.5/waves.min.js'></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/scrollReveal.js/3.3.2/scrollreveal.min.js"></script>

<script src="/blog/js/jquery.fitvids.js"></script>

<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "hexo";
  var ROOT = "/blog/"||"/";
  if(!ROOT.endsWith('/'))ROOT += '/';
</script>

<script src="/blog/js/search.js"></script>


<script src="/blog/js/app.js"></script>



  <script>setLoadingBarProgress(100);</script>
</body>
</html>
